{"id":"workspace-3mt","title":"Wire docker compose file into devcontainer.json in moat.mjs","description":"In moat.mjs, after generateProjectConfig(), check meta.has_docker. If true, push the docker-compose.docker.yml path into the dockerComposeFile array in devcontainerConfig. Log 'Docker access enabled via socket proxy'.","status":"open","priority":2,"issue_type":"task","owner":"srinivasgumdelli@gmail.com","created_at":"2026-02-19T07:22:37.84992+04:00","created_by":"Srinivas G","updated_at":"2026-02-19T07:22:37.84992+04:00","dependencies":[{"issue_id":"workspace-3mt","depends_on_id":"workspace-zzn","type":"blocks","created_at":"2026-02-19T07:22:53.220212+04:00","created_by":"Srinivas G"}]}
{"id":"workspace-58d","title":"Install Docker CLI and Compose plugin in Dockerfile","description":"Add Docker CE CLI and docker-compose-plugin via apt to the Dockerfile. Place after kubectl installation (~line 66). Use the official Docker apt repository with GPG key for automatic ARM64 support and compose v2 plugin. This is unconditional — the CLI is small and harmless without a daemon connection.","status":"open","priority":2,"issue_type":"task","owner":"srinivasgumdelli@gmail.com","created_at":"2026-02-19T07:22:22.894417+04:00","created_by":"Srinivas G","updated_at":"2026-02-19T07:22:22.894417+04:00"}
{"id":"workspace-6qz","title":"Add Docker proxy verification to verify.sh","description":"Add a verification step to verify.sh: if DOCKER_HOST env var is set, run 'docker info' to verify the socket proxy is accessible and working. Report PASS/FAIL.","status":"open","priority":2,"issue_type":"task","owner":"srinivasgumdelli@gmail.com","created_at":"2026-02-19T07:22:49.266744+04:00","created_by":"Srinivas G","updated_at":"2026-02-19T07:22:49.266744+04:00","dependencies":[{"issue_id":"workspace-6qz","depends_on_id":"workspace-58d","type":"blocks","created_at":"2026-02-19T07:22:53.369685+04:00","created_by":"Srinivas G"}]}
{"id":"workspace-a0y","title":"Document docker option in moat.example.yml","description":"Add docker: true as a documented opt-in option in moat.example.yml with comments explaining what it enables (Docker build/run/compose from within the sandbox via a socket proxy), what's blocked (docker exec into host containers), and the security trade-offs.","status":"open","priority":2,"issue_type":"task","owner":"srinivasgumdelli@gmail.com","created_at":"2026-02-19T07:22:44.164887+04:00","created_by":"Srinivas G","updated_at":"2026-02-19T07:22:44.164887+04:00"}
{"id":"workspace-zzn","title":"Add generateDockerYaml() to lib/compose.mjs","description":"Create a new function generateDockerYaml() that generates docker-compose.docker.yml with the linuxserver/socket-proxy service config. The proxy mounts /var/run/docker.sock read-only, runs on the sandbox network, and filters Docker API calls (BUILD=1, IMAGES=1, CONTAINERS=1, NETWORKS=1, VOLUMES=1, EVENTS=1, ALLOW_START=1, ALLOW_STOP=1, ALLOW_RESTARTS=1, INFO=1, POST=1 — but EXEC=0, AUTH=0, SECRETS=0, SWARM=0, etc). Also adds devcontainer override with DOCKER_HOST=tcp://docker-proxy:2375. Update generateProjectConfig() to read config.docker from .moat.yml, write the file to wsDataDir, and return has_docker in metadata. Auto-inject Docker Hub domains into squid runtime config when docker is enabled.","status":"open","priority":2,"issue_type":"task","owner":"srinivasgumdelli@gmail.com","created_at":"2026-02-19T07:22:32.465162+04:00","created_by":"Srinivas G","updated_at":"2026-02-19T07:22:32.465162+04:00"}
